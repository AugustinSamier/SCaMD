PRE_TRANSLATION_RESEARCH = """
You will be asked to translate a piece of text from {src} into {tgt} following the five stages of the translation process. Here is the context in which the text appears:

Context: {source}

To start, let’s do some pre-drafting research on the above context:

Research:
During this phase, thorough research is essential to address components of the context text that pose translation challenges. The goal is to establish a comprehensive translation plan that covers the following category:
    
    * Idiomatic Expressions:

        * Identify idiomatic expressions that cannot be directly translated word-for-word into {tgt}.
""".strip()

DRAFTING = """
Now, let’s move on to the drafting stage.

Draft Translation:
In this phase, your primary objective is to create a draft translation that accurately conveys the meaning of the source text presented below. At this stage, it is crucial to focus on adequacy, ensuring that your translation closely adheres to the source text. Your response should conclude with the draft translation. If context is missing, generate a general translation that is adaptable to various contexts. Avoid adding any additional information not present in the source text. All elements of the source text should be present in the translation.

Give your best one translation for the following piece of text based on the pre-drafting analysis without providing alternatives:

{src}: {source}
""".strip()

REFINEMENT = """
Now let’s move to the next stage.

Post-editing with local refinement
In this stage, the primary aim is to refine the draft translation by making micro-level improvements that improve the draft’s fluency.

Provide only one refined translation and do not output anything else after that.
""".strip()

PROOFREADING = """
You are tasked with proofreading a translation that has been revised for improved fluency. The refined translation has been generated by editing the draft translation.

Proofreading and Final Editing
The goal is to provide a polished final translation of the source text. For you reference, below are the source text, the draft, and refined translations.

Source Text
{source}

Draft Translation
{draft}

Refined Translation
{refine}

Please proofread the refined text for grammar, spelling, punctuation, terminology, and overall fluency. Ensure the translation accurately reflects the original meaning and style. Provide only the final, polished translation.
""".strip()

def get_step_by_step_prompts(
    description: str,
    src: str = None,
    tgt: str = None,
    source: str = None,
    draft: str = None,
    refine: str = None
):
    """
    Arguments
    ---------
    - src: str,
        Source language e.g English.
    - tgt: str,
        Target language e.g. French.
    - source: str,
        Sentence to translate e.g. I want to go to school.
    - draft: str,
        First draft translation e.g. J'ai envie d'aller à l'école.
    - refine: str,
        Refined translation e.g. J'aimerai aller à l'école.
    - description: str,
        Prompt of interest
    """
    if description == "pre-translation-research":
        return PRE_TRANSLATION_RESEARCH.format(
            src=src,
            tgt=tgt,
            source=source
        )
    elif description == "drafting":
        return DRAFTING.format(src=src, source=source)
    elif description == "refinement":
        return REFINEMENT
    elif description == "proofreading":
        return PROOFREADING.format(
            source=source,
            draft=draft,
            refine=refine
        )
    else:
        raise ValueError(f"Unsupported step {description} for step by step translation.")